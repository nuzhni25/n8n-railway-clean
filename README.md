# n8n Railway Deployment

–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ n8n –Ω–∞ Railway —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö SQLite.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã –≤ Railway
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫ Railway
4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ñ–æ–Ω–µ

## üìã –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã

```env
DATABASE_URL=https://file.kiwi/33ccc9a6#0TVv_YEMbV2tWaivXh5dBA
N8N_ENCRYPTION_KEY=GevJ653kDGJTiemfO4SynmyQEMRwyL/X
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Railway

1. **Volume**: –°–æ–∑–¥–∞–π—Ç–µ volume —Å –∏–º–µ–Ω–µ–º `Database-volume` –∏ mount point `/data`
2. **Domain**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ custom domain (–Ω–∞–ø—Ä–∏–º–µ—Ä, zolexai.online)

## üìö –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### 1. üéØ –¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (file.kiwi)
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ - –æ–¥–Ω–∞ —Å—Å—ã–ª–∫–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ —Ñ–æ–Ω–µ
- ‚ö†Ô∏è –†–∞–∑–º–µ—Ä: 570MB (–¥–æ–ª–≥–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)

### 2. üì¶ –°–∂–∞—Ç–∞—è –±–∞–∑–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–°–∂–∏–º–∞–π—Ç–µ –±–∞–∑—É –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π:
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ —Å–∂–∏–º–∞–µ–º –±–∞–∑—É
gzip -c database.sqlite > database.sqlite.gz
# –†–∞–∑–º–µ—Ä —É–º–µ–Ω—å—à–∏—Ç—Å—è —Å 570MB –¥–æ ~150-200MB
```

–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∂–∞—Ç—É—é –≤–µ—Ä—Å–∏—é –Ω–∞ file.kiwi –∏ –æ–±–Ω–æ–≤–∏—Ç–µ `DATABASE_URL`. 
start.sh –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –∏ —Ä–∞—Å–ø–∞–∫—É–µ—Ç gzip —Ñ–∞–π–ª—ã.

### 3. üåê GitHub Releases
```bash
# 1. –î–æ–±–∞–≤—å—Ç–µ —Å–∂–∞—Ç—É—é –±–∞–∑—É –≤ GitHub Release
gh release create v1.0.0 database.sqlite.gz

# 2. –û–±–Ω–æ–≤–∏—Ç–µ URL –≤ Railway:
DATABASE_URL=https://github.com/user/repo/releases/download/v1.0.0/database.sqlite.gz
```

### 4. ‚òÅÔ∏è Cloud Storage 
```bash
# Google Drive public link
DATABASE_URL=https://drive.google.com/uc?id=FILE_ID

# Dropbox direct link  
DATABASE_URL=https://dl.dropboxusercontent.com/s/TOKEN/database.sqlite.gz
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Railway Logs
```bash
# –ò—â–∏—Ç–µ —ç—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏—è:
üöÄ –ó–∞–ø—É—Å–∫ n8n —Å SQLite...
üìù –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø—É—Å—Ç—É—é –±–∞–∑—É...
üîÑ –ù–∞—á–∏–Ω–∞–µ–º —Ñ–æ–Ω–æ–≤—É—é –∑–∞–≥—Ä—É–∑–∫—É...
üì• –ü–æ–ø—ã—Ç–∫–∞ 1 –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
üì¶ –û–±–Ω–∞—Ä—É–∂–µ–Ω —Å–∂–∞—Ç—ã–π —Ñ–∞–π–ª, —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º...
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–∞! –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º n8n...
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
- **0-30 —Å–µ–∫**: n8n –¥–æ—Å—Ç—É–ø–µ–Ω (–ø—É—Å—Ç–∞—è –±–∞–∑–∞)
- **5-15 –º–∏–Ω**: –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –≤ —Ñ–æ–Ω–µ
- **15+ –º–∏–Ω**: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –ø–æ–ª–Ω–æ–π –±–∞–∑–æ–π

## üìä –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –±–∞–∑—ã

### –û—á–∏—Å—Ç–∫–∞ SQLite
```sql
-- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ SQLite browser –ø–µ—Ä–µ–¥ –≤—ã–≥—Ä—É–∑–∫–æ–π
VACUUM;
PRAGMA optimize;
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
```bash
# –†–∞–∑–º–µ—Ä —Ç–∞–±–ª–∏—Ü
sqlite3 database.sqlite "SELECT name, COUNT(*) FROM sqlite_master WHERE type='table';"

# –°–∞–º—ã–µ –±–æ–ª—å—à–∏–µ —Ç–∞–±–ª–∏—Ü—ã  
sqlite3 database.sqlite "SELECT name, SUM(pgsize) as size FROM dbstat GROUP BY name ORDER BY size DESC LIMIT 10;"
```

## üõ†Ô∏è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ö–æ—Å—Ç–∏–Ω–≥–∏

### Render
```yaml
# render.yaml
services:
  - type: web
    name: n8n
    runtime: docker
    dockerfilePath: ./Dockerfile
    envVars:
      - key: DATABASE_URL
        value: https://your-file-url
```

### Heroku
```bash
heroku create your-n8n-app
heroku config:set DATABASE_URL=https://your-file-url
git push heroku main
```

## ‚ùó Troubleshooting

### –ë–∞–∑–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ Deploy Logs
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª > 50MB
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å—Å—ã–ª–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∂–∞—Ç—É—é –≤–µ—Ä—Å–∏—é (gzip)
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Ö–æ—Å—Ç–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤
3. –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã –≤ start.sh

### n8n –Ω–µ –≤–∏–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ
1. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É
3. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ encryption key

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
n8n-railway-clean/
‚îú‚îÄ‚îÄ Dockerfile          # Docker –æ–±—Ä–∞–∑ —Å n8n
‚îú‚îÄ‚îÄ start.sh            # –°–∫—Ä–∏–ø—Ç —Ñ–æ–Ω–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ë–î  
‚îú‚îÄ‚îÄ railway.json        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Railway
‚îú‚îÄ‚îÄ README.md           # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ .dockerignore       # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Docker
```

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [n8n Documentation](https://docs.n8n.io/)
- [Railway Documentation](https://docs.railway.app/)
- [SQLite VACUUM](https://www.sqlite.org/lang_vacuum.html)
- [file.kiwi](https://file.kiwi/) - —Ñ–∞–π–ª–æ–≤—ã–π —Ö–æ—Å—Ç–∏–Ω–≥ 